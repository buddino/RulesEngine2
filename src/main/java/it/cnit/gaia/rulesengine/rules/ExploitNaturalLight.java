package it.cnit.gaia.rulesengine.rules;

import it.cnit.gaia.rulesengine.model.GaiaRule;
import it.cnit.gaia.rulesengine.model.annotation.FromConfiguration;
import it.cnit.gaia.rulesengine.model.annotation.ToBeLogged;
import it.cnit.gaia.rulesengine.model.annotation.URI;

public class ExploitNaturalLight extends GaiaRule{
	@ToBeLogged	@FromConfiguration @URI
	public String luminosity_uri;
	@ToBeLogged	@FromConfiguration @URI
	public String temperature_uri;
	@ToBeLogged	@FromConfiguration @URI
	public String power_uri;
	@ToBeLogged	@FromConfiguration
	public Double luminosity_threshold;
	@ToBeLogged	@FromConfiguration
	public Double power_threshold;
	@ToBeLogged	@FromConfiguration
	public Double temperature_threshold = Double.POSITIVE_INFINITY;
	@ToBeLogged
	public Double luminosity_value;
	@ToBeLogged
	public Double temperature_value;
	@ToBeLogged
	public Double power_value;

	@Override
	public boolean condition(){
		luminosity_value = measurements.getLatestFor(luminosity_uri).getReading();
		temperature_value = measurements.getLatestFor(temperature_uri).getReading();
		power_value = measurements.getLatestFor(power_uri).getReading();
		return luminosity_value > luminosity_threshold && power_value > power_threshold && temperature_value < temperature_threshold;
	}



}
